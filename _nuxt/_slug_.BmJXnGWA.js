import{_ as E}from"./SocialBar.vue.B02uj6yp.js";import{u as I,a as P,b as C,m as R,g as $}from"./_base.mCazQlaS.js";import{g as B,L as m,u as L,r as M,h as O,a1 as h,a2 as V,a3 as j,v as q,a4 as D,s as H,o as A,c as T,i,x as U,w as G,a as o,t as y,b as x,l as J}from"./entry.C20JuOzC.js";import{_ as K}from"./ContentRendererMarkdown.vue.BF4v24sB.js";import Q from"./ContentRenderer.BSamDr1c.js";import{u as W,q as X}from"./query.BlY-eR4Q.js";import{a as Y,t as Z,d as ee}from"./socials.CMTy8176.js";import"./index.BsYmvPZw.js";import"./preview.B84tUFWC.js";const se={...C,legacyFormat:{type:String,default:null},imgAttrs:{type:Object,default:null}},te=B({name:"NuxtPicture",props:se,emits:["load","error"],setup:(s,a)=>{var v,p;const r=I(),d=P(s),_=m(()=>$(s.src)),t=m(()=>["png","webp","gif","svg"].includes(_.value)),c=m(()=>s.legacyFormat?s.legacyFormat:t.value?"png":"jpeg"),n=m(()=>{var z,k;const e=((z=s.format)==null?void 0:z.split(","))||(_.value==="svg"?["svg"]:(k=r.options.format)!=null&&k.length?[...r.options.format]:["webp"]);return e[0]==="svg"?[{src:s.src}]:(e.includes(c.value)&&e.splice(e.indexOf(c.value),1),e.push(c.value),e.map(w=>{const{srcset:F,sizes:N,src:S}=r.getSizes(s.src,{...d.options.value,sizes:s.sizes||r.options.screens,densities:s.densities,modifiers:{...d.modifiers.value,format:w}});return{src:S,type:`image/${w}`,sizes:N,srcset:F}}))}),u=m(()=>n.value.length-1);if(s.preload){const e={rel:"preload",as:"image",imagesrcset:n.value[0].srcset,nonce:s.nonce};(p=(v=n.value)==null?void 0:v[0])!=null&&p.sizes&&(e.imagesizes=n.value[0].sizes),L({link:[e]})}const g={...s.imgAttrs,"data-nuxt-pic":""};for(const e in a.attrs)e in C&&!(e in g)&&(g[e]=a.attrs[e]);const l=M(),f=V().isHydrating;return O(()=>{l.value&&(l.value.complete&&f&&(l.value.getAttribute("data-error")?a.emit("error",new Event("error")):a.emit("load",new Event("load"))),l.value.onload=e=>{a.emit("load",e)},l.value.onerror=e=>{a.emit("error",e)},R("nuxt-picture"))}),()=>h("picture",null,[...n.value.slice(0,-1).map(e=>h("source",{type:e.type,sizes:e.sizes,srcset:e.srcset})),h("img",{ref:l,...d.attrs.value,...g,src:n.value[u.value].src,sizes:n.value[u.value].sizes,srcset:n.value[u.value].srcset})])}}),ae={id:"nuxt-news"},ne={class:"has-background-smoke"},oe={class:"container blog-padding"},ie={class:"columns is-vcentered"},re={class:"column is-7"},ce={class:"is-size-1 has-text-primary title"},le={class:"is-flex is-align-items-center"},ue={class:"is-size-5 mt-5 is-block"},me={class:"column p-0"},de={class:"container"},_e={class:"columns is-gapless"},ge={class:"column content is-medium",id:"content"},we=B({__name:"[slug]",async setup(s){var c,n,u;let a,r;const _=j().params.slug,{data:t}=([a,r]=q(()=>W("page-data",()=>X(`/news/${_}`).findOne())),a=await a,r(),a);return D(()=>{t.value=null}),H({title:(c=t.value)==null?void 0:c.title,description:(n=t.value)==null?void 0:n.description,ogImage:(u=t.value)==null?void 0:u.image.src}),(g,l)=>{const b=E,f=te,v=K,p=Q;return A(),T("main",ae,[i(t)?(A(),U(p,{key:0,value:i(t)},{default:G(()=>[o("div",ne,[o("div",oe,[o("div",ie,[o("div",re,[o("h1",ce,y(i(t).title),1),o("div",le,[x(b,{class:"has-text-primary is-size-3",socials:[i(Y),i(Z),i(ee)]},null,8,["socials"])]),o("span",ue," Posted on "+y(i(t).created)+" by "+y(i(t).author),1)]),o("div",me,[x(f,{src:i(t).image.src,class:"image is-5by3 has-rounded-corners"},null,8,["src"])])])])]),o("div",de,[o("div",_e,[o("div",ge,[x(v,{value:i(t),class:"blog-padding"},null,8,["value"])])])])]),_:1},8,["value"])):J("",!0)])}}});export{we as default};
