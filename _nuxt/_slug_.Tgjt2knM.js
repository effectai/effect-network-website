import{_ as E}from"./SocialBar.vue.CmV9UCUf.js";import{u as I,a as P,b as C,m as $,g as R}from"./_base.BkbwibAI.js";import{g as F,L as m,u as M,r as O,h as V,a1 as h,a2 as j,a3 as q,v as D,s as H,o as A,c as L,i,x as T,w as U,a as o,t as y,b as x,l as G}from"./entry.CNUlnR1h.js";import{_ as J}from"./ContentRendererMarkdown.vue.CbNB2lFh.js";import K from"./ContentRenderer.DB_PIGVJ.js";import{u as Q,q as W}from"./query.B8YgRW8m.js";import{a as X,t as Y,d as Z}from"./socials.CMTy8176.js";import"./index.BsYmvPZw.js";import"./preview.BMWm0y37.js";const ee={...C,legacyFormat:{type:String,default:null},imgAttrs:{type:Object,default:null}},se=F({name:"NuxtPicture",props:ee,emits:["load","error"],setup:(s,a)=>{var p,v;const r=I(),d=P(s),_=m(()=>R(s.src)),t=m(()=>["png","webp","gif","svg"].includes(_.value)),c=m(()=>s.legacyFormat?s.legacyFormat:t.value?"png":"jpeg"),n=m(()=>{var z,k;const e=((z=s.format)==null?void 0:z.split(","))||(_.value==="svg"?["svg"]:(k=r.options.format)!=null&&k.length?[...r.options.format]:["webp"]);return e[0]==="svg"?[{src:s.src}]:(e.includes(c.value)&&e.splice(e.indexOf(c.value),1),e.push(c.value),e.map(w=>{const{srcset:B,sizes:N,src:S}=r.getSizes(s.src,{...d.options.value,sizes:s.sizes||r.options.screens,densities:s.densities,modifiers:{...d.modifiers.value,format:w}});return{src:S,type:`image/${w}`,sizes:N,srcset:B}}))}),u=m(()=>n.value.length-1);if(s.preload){const e={rel:"preload",as:"image",imagesrcset:n.value[0].srcset,nonce:s.nonce};(v=(p=n.value)==null?void 0:p[0])!=null&&v.sizes&&(e.imagesizes=n.value[0].sizes),M({link:[e]})}const g={...s.imgAttrs,"data-nuxt-pic":""};for(const e in a.attrs)e in C&&!(e in g)&&(g[e]=a.attrs[e]);const l=O(),f=j().isHydrating;return V(()=>{l.value&&(l.value.complete&&f&&(l.value.getAttribute("data-error")?a.emit("error",new Event("error")):a.emit("load",new Event("load"))),l.value.onload=e=>{a.emit("load",e)},l.value.onerror=e=>{a.emit("error",e)},$("nuxt-picture"))}),()=>h("picture",null,[...n.value.slice(0,-1).map(e=>h("source",{type:e.type,sizes:e.sizes,srcset:e.srcset})),h("img",{ref:l,...d.attrs.value,...g,src:n.value[u.value].src,sizes:n.value[u.value].sizes,srcset:n.value[u.value].srcset})])}}),te={id:"nuxt-news"},ae={class:"has-background-smoke"},ne={class:"container blog-padding"},oe={class:"columns is-vcentered"},ie={class:"column is-7"},re={class:"is-size-1 has-text-primary title"},ce={class:"is-flex is-align-items-center"},le={class:"is-size-5 mt-5 is-block"},ue={class:"column p-0"},me={class:"container"},de={class:"columns is-gapless"},_e={class:"column content is-medium",id:"content"},ke=F({__name:"[slug]",async setup(s){var c,n,u;let a,r;const _=q().params.slug,{data:t}=([a,r]=D(()=>Q("page-data",()=>W(`/news/${_}`).findOne())),a=await a,r(),a);return H({title:(c=t.value)==null?void 0:c.title,description:(n=t.value)==null?void 0:n.description,ogImage:(u=t.value)==null?void 0:u.image.src}),(g,l)=>{const b=E,f=se,p=J,v=K;return A(),L("main",te,[i(t)?(A(),T(v,{key:0,value:i(t)},{default:U(()=>[o("div",ae,[o("div",ne,[o("div",oe,[o("div",ie,[o("h1",re,y(i(t).title),1),o("div",ce,[x(b,{class:"has-text-primary is-size-3",socials:[i(X),i(Y),i(Z)]},null,8,["socials"])]),o("span",le," Posted on "+y(i(t).created)+" by "+y(i(t).author),1)]),o("div",ue,[x(f,{src:i(t).image.src,class:"image is-5by3 has-rounded-corners"},null,8,["src"])])])])]),o("div",me,[o("div",de,[o("div",_e,[x(p,{value:i(t),class:"blog-padding"},null,8,["value"])])])])]),_:1},8,["value"])):G("",!0)])}}});export{ke as default};
