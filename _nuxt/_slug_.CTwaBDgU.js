import{_ as I}from"./SocialBar.vue.Cj7NjSQm.js";import{u as P,a as $,b as C,m as R,g as M}from"./_base.BAZNFVvG.js";import{g as F,L as m,u as O,r as B,h as V,a1 as h,a2 as j,a3 as q,v as H,s as L,o as A,c as D,i,x as T,w as U,a as o,t as y,b as x,l as G}from"./entry.B6Bkiovw.js";import{_ as J}from"./ContentRendererMarkdown.vue.Czya2age.js";import K from"./ContentRenderer.BhGR1_zI.js";import{q as Q}from"./query.DJQDW64N.js";import{a as W,t as X,d as Y}from"./socials.CMTy8176.js";import"./index.BsYmvPZw.js";import"./preview.BTUw5Woh.js";const Z={...C,legacyFormat:{type:String,default:null},imgAttrs:{type:Object,default:null}},ee=F({name:"NuxtPicture",props:Z,emits:["load","error"],setup:(s,a)=>{var v,p;const r=P(),d=$(s),_=m(()=>M(s.src)),t=m(()=>["png","webp","gif","svg"].includes(_.value)),c=m(()=>s.legacyFormat?s.legacyFormat:t.value?"png":"jpeg"),n=m(()=>{var z,k;const e=((z=s.format)==null?void 0:z.split(","))||(_.value==="svg"?["svg"]:(k=r.options.format)!=null&&k.length?[...r.options.format]:["webp"]);return e[0]==="svg"?[{src:s.src}]:(e.includes(c.value)&&e.splice(e.indexOf(c.value),1),e.push(c.value),e.map(w=>{const{srcset:N,sizes:S,src:E}=r.getSizes(s.src,{...d.options.value,sizes:s.sizes||r.options.screens,densities:s.densities,modifiers:{...d.modifiers.value,format:w}});return{src:E,type:`image/${w}`,sizes:S,srcset:N}}))}),u=m(()=>n.value.length-1);if(s.preload){const e={rel:"preload",as:"image",imagesrcset:n.value[0].srcset,nonce:s.nonce};(p=(v=n.value)==null?void 0:v[0])!=null&&p.sizes&&(e.imagesizes=n.value[0].sizes),O({link:[e]})}const g={...s.imgAttrs,"data-nuxt-pic":""};for(const e in a.attrs)e in C&&!(e in g)&&(g[e]=a.attrs[e]);const l=B(),f=j().isHydrating;return V(()=>{l.value&&(l.value.complete&&f&&(l.value.getAttribute("data-error")?a.emit("error",new Event("error")):a.emit("load",new Event("load"))),l.value.onload=e=>{a.emit("load",e)},l.value.onerror=e=>{a.emit("error",e)},R("nuxt-picture"))}),()=>h("picture",null,[...n.value.slice(0,-1).map(e=>h("source",{type:e.type,sizes:e.sizes,srcset:e.srcset})),h("img",{ref:l,...d.attrs.value,...g,src:n.value[u.value].src,sizes:n.value[u.value].sizes,srcset:n.value[u.value].srcset})])}}),se={id:"nuxt-news"},te={class:"has-background-smoke"},ae={class:"container blog-padding"},ne={class:"columns is-vcentered"},oe={class:"column is-7"},ie={class:"is-size-1 has-text-primary title"},re={class:"is-flex is-align-items-center"},ce={class:"is-size-5 mt-5 is-block"},le={class:"column p-0"},ue={class:"container"},me={class:"columns is-gapless"},de={class:"column content is-medium",id:"content"},ze=F({__name:"[slug]",async setup(s){var c,n,u;let a,r;const _=q().params.slug,t=B(null);return t.value=([a,r]=H(()=>Q(`/news/${_}`).findOne()),a=await a,r(),a),L({title:(c=t.value)==null?void 0:c.title,description:(n=t.value)==null?void 0:n.description,ogImage:(u=t.value)==null?void 0:u.image.src}),(g,l)=>{const b=I,f=ee,v=J,p=K;return A(),D("main",se,[i(t)?(A(),T(p,{key:0,value:i(t)},{default:U(()=>[o("div",te,[o("div",ae,[o("div",ne,[o("div",oe,[o("h1",ie,y(i(t).title),1),o("div",re,[x(b,{class:"has-text-primary is-size-3",socials:[i(W),i(X),i(Y)]},null,8,["socials"])]),o("span",ce," Posted on "+y(i(t).created)+" by "+y(i(t).author),1)]),o("div",le,[x(f,{src:i(t).image.src,class:"image is-5by3 has-rounded-corners"},null,8,["src"])])])])]),o("div",ue,[o("div",me,[o("div",de,[x(v,{value:i(t),class:"blog-padding"},null,8,["value"])])])])]),_:1},8,["value"])):G("",!0)])}}});export{ze as default};
