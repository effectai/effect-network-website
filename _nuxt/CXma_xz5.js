import{_ as M,c as I,b as V,a as q}from"./Cx1mM9Jo.js";import{p as D,u as O,a as R,b as H,m as L,g as j}from"./BQTnwUtG.js";import{f as C,a1 as T,M as _,r as U,a2 as X,g as G,o as d,c as g,F as J,i as K,a3 as Q,h as a,k as N,a4 as W,s as Y,q as Z,v as ss,w as es,a as o,t as z,b as w}from"./Dy2aZlg1.js";import{_ as ts}from"./DXJ_-IM1.js";import as from"./DF-QL_ta.js";import{u as os,q as rs}from"./8gk49-u_.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./DNnBw_ek.js";const ns=["type","sizes","srcset"],is=["src","sizes","srcset"],cs=C({__name:"NuxtPicture",props:D,emits:["load","error"],setup(A,{emit:c}){const e=A,h=T(),r=c,t=!1,n=O(),{attrs:v,options:f,modifiers:$}=R(e),y=_(()=>j(e.src)),x=_(()=>["png","webp","gif","svg"].includes(y.value)),l=_(()=>e.legacyFormat?e.legacyFormat:x.value?"png":"jpeg"),p=_(()=>{var k,i;const s=((k=e.format)==null?void 0:k.split(","))||(y.value==="svg"?["svg"]:(i=n.options.format)!=null&&i.length?[...n.options.format]:["webp"]);return s[0]==="svg"?[{src:e.src}]:(s.includes(l.value)&&s.splice(s.indexOf(l.value),1),s.push(l.value),s.map(F=>{const{srcset:E,sizes:P,src:S}=n.getSizes(e.src,{...f.value,sizes:e.sizes||n.options.screens,densities:e.densities,modifiers:{...$.value,format:F}});return{src:S,type:`image/${F}`,sizes:P,srcset:E}}))}),u=_(()=>p.value[p.value.length-1]),b={...e.imgAttrs,"data-nuxt-pic":""};for(const s in h)s in H&&!(s in b)&&(b[s]=h[s]);const m=U(),B=X().isHydrating;return G(()=>{m.value&&(m.value.complete&&B&&(m.value.getAttribute("data-error")?r("error",new Event("error")):r("load",new Event("load"))),m.value.onload=s=>{r("load",s)},m.value.onerror=s=>{r("error",s)},L("nuxt-picture"))}),(s,k)=>(d(),g("picture",null,[(d(!0),g(J,null,K(p.value.slice(0,-1),i=>(d(),g("source",{key:i.src,type:i.type,sizes:i.sizes,srcset:i.srcset},null,8,ns))),128)),u.value?(d(),g("img",Q({key:0,ref_key:"imgEl",ref:m},{...a(v),...a(t)?{onerror:"this.setAttribute('data-error', 1)"}:{},...b},{src:u.value.src,sizes:u.value.sizes,srcset:u.value.srcset}),null,16,is)):N("",!0)]))}}),ls={id:"nuxt-news"},us={class:"has-background-smoke"},ms={class:"container blog-padding"},ds={class:"columns is-vcentered"},ps={class:"column is-7"},_s={class:"is-size-1 has-text-primary title"},gs={class:"is-flex is-align-items-center"},vs={class:"is-size-5 mt-5 is-block"},fs={class:"column p-0"},hs={class:"container"},ys={class:"columns is-gapless"},xs={class:"column content is-medium",id:"content"},Es=C({__name:"[slug]",async setup(A){var n,v,f;let c,e;const r=W().params.slug,{data:t}=([c,e]=Y(()=>os(r,()=>rs(`/news/${r}`).findOne(),"$mN2gziXVDH")),c=await c,e(),c);return Z({title:(n=t.value)==null?void 0:n.title,description:(v=t.value)==null?void 0:v.description,ogImage:(f=t.value)==null?void 0:f.image.src}),($,y)=>{const x=M,l=cs,p=ts,u=as;return d(),g("main",ls,[a(t)?(d(),ss(u,{key:0,value:a(t)},{default:es(()=>[o("div",us,[o("div",ms,[o("div",ds,[o("div",ps,[o("h1",_s,z(a(t).title),1),o("div",gs,[w(x,{class:"has-text-primary is-size-3",socials:[a(I),a(V),a(q)]},null,8,["socials"])]),o("span",vs," Posted on "+z(a(t).created)+" by "+z(a(t).author),1)]),o("div",fs,[w(l,{src:a(t).image.src,class:"image is-5by3 has-rounded-corners"},null,8,["src"])])])])]),o("div",hs,[o("div",ys,[o("div",xs,[w(p,{value:a(t),class:"blog-padding"},null,8,["value"])])])])]),_:1},8,["value"])):N("",!0)])}}});export{Es as default};
